{"ast":null,"code":"// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n/**\n * @fileoverview Defines common conditions for use with\n * {@link webdriver.WebDriver#wait WebDriver wait}.\n *\n * Sample usage:\n *\n *     driver.get('http://www.google.com/ncr');\n *\n *     var query = driver.wait(until.elementLocated(By.name('q')));\n *     query.sendKeys('webdriver\\n');\n *\n *     driver.wait(until.titleIs('webdriver - Google Search'));\n *\n * To define a custom condition, simply call WebDriver.wait with a function\n * that will eventually return a truthy-value (neither null, undefined, false,\n * 0, or the empty string):\n *\n *     driver.wait(function() {\n *       return driver.getTitle().then(function(title) {\n *         return title === 'webdriver - Google Search';\n *       });\n *     }, 1000);\n */\n'use strict';\n\nvar by = require('./by');\n\nvar By = require('./by').By;\n\nvar error = require('./error');\n\nvar webdriver = require('./webdriver'),\n    Condition = webdriver.Condition,\n    WebElementCondition = webdriver.WebElementCondition;\n/**\n * Creates a condition that will wait until the input driver is able to switch\n * to the designated frame. The target frame may be specified as\n *\n * 1. a numeric index into\n *     [window.frames](https://developer.mozilla.org/en-US/docs/Web/API/Window.frames)\n *     for the currently selected frame.\n * 2. a {@link ./webdriver.WebElement}, which must reference a FRAME or IFRAME\n *     element on the current page.\n * 3. a locator which may be used to first locate a FRAME or IFRAME on the\n *     current page before attempting to switch to it.\n *\n * Upon successful resolution of this condition, the driver will be left\n * focused on the new frame.\n *\n * @param {!(number|./webdriver.WebElement|By|\n *           function(!./webdriver.WebDriver): !./webdriver.WebElement)} frame\n *     The frame identifier.\n * @return {!Condition<boolean>} A new condition.\n */\n\n\nexports.ableToSwitchToFrame = function ableToSwitchToFrame(frame) {\n  var condition;\n\n  if (typeof frame === 'number' || frame instanceof webdriver.WebElement) {\n    condition = function condition(driver) {\n      return attemptToSwitchFrames(driver, frame);\n    };\n  } else {\n    condition = function condition(driver) {\n      var locator =\n      /** @type {!(By|Function)} */\n      frame;\n      return driver.findElements(locator).then(function (els) {\n        if (els.length) {\n          return attemptToSwitchFrames(driver, els[0]);\n        }\n      });\n    };\n  }\n\n  return new Condition('to be able to switch to frame', condition);\n\n  function attemptToSwitchFrames(driver, frame) {\n    return driver.switchTo().frame(frame).then(function () {\n      return true;\n    }, function (e) {\n      if (!(e instanceof error.NoSuchFrameError)) {\n        throw e;\n      }\n    });\n  }\n};\n/**\n * Creates a condition that waits for an alert to be opened. Upon success, the\n * returned promise will be fulfilled with the handle for the opened alert.\n *\n * @return {!Condition<!./webdriver.Alert>} The new condition.\n */\n\n\nexports.alertIsPresent = function alertIsPresent() {\n  return new Condition('for alert to be present', function (driver) {\n    return driver.switchTo().alert().catch(function (e) {\n      if (!(e instanceof error.NoSuchAlertError // XXX: Workaround for GeckoDriver error `TypeError: can't convert null\n      // to object`. For more details, see\n      // https://github.com/SeleniumHQ/selenium/pull/2137\n      || e instanceof error.WebDriverError && e.message === \"can't convert null to object\")) {\n        throw e;\n      }\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the current page's title to match the\n * given value.\n *\n * @param {string} title The expected page title.\n * @return {!Condition<boolean>} The new condition.\n */\n\n\nexports.titleIs = function titleIs(title) {\n  return new Condition('for title to be ' + JSON.stringify(title), function (driver) {\n    return driver.getTitle().then(function (t) {\n      return t === title;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the current page's title to contain\n * the given substring.\n *\n * @param {string} substr The substring that should be present in the page\n *     title.\n * @return {!Condition<boolean>} The new condition.\n */\n\n\nexports.titleContains = function titleContains(substr) {\n  return new Condition('for title to contain ' + JSON.stringify(substr), function (driver) {\n    return driver.getTitle().then(function (title) {\n      return title.indexOf(substr) !== -1;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the current page's title to match the\n * given regular expression.\n *\n * @param {!RegExp} regex The regular expression to test against.\n * @return {!Condition<boolean>} The new condition.\n */\n\n\nexports.titleMatches = function titleMatches(regex) {\n  return new Condition('for title to match ' + regex, function (driver) {\n    return driver.getTitle().then(function (title) {\n      return regex.test(title);\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the current page's url to match the\n * given value.\n *\n * @param {string} url The expected page url.\n * @return {!Condition<boolean>} The new condition.\n */\n\n\nexports.urlIs = function urlIs(url) {\n  return new Condition('for URL to be ' + JSON.stringify(url), function (driver) {\n    return driver.getCurrentUrl().then(function (u) {\n      return u === url;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the current page's url to contain\n * the given substring.\n *\n * @param {string} substrUrl The substring that should be present in the current\n *     URL.\n * @return {!Condition<boolean>} The new condition.\n */\n\n\nexports.urlContains = function urlContains(substrUrl) {\n  return new Condition('for URL to contain ' + JSON.stringify(substrUrl), function (driver) {\n    return driver.getCurrentUrl().then(function (url) {\n      return url.indexOf(substrUrl) !== -1;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the current page's url to match the\n * given regular expression.\n *\n * @param {!RegExp} regex The regular expression to test against.\n * @return {!Condition<boolean>} The new condition.\n */\n\n\nexports.urlMatches = function urlMatches(regex) {\n  return new Condition('for URL to match ' + regex, function (driver) {\n    return driver.getCurrentUrl().then(function (url) {\n      return regex.test(url);\n    });\n  });\n};\n/**\n * Creates a condition that will loop until an element is\n * {@link ./webdriver.WebDriver#findElement found} with the given locator.\n *\n * @param {!(By|Function)} locator The locator to use.\n * @return {!WebElementCondition} The new condition.\n */\n\n\nexports.elementLocated = function elementLocated(locator) {\n  locator = by.checkedLocator(locator);\n  var locatorStr = typeof locator === 'function' ? 'by function()' : locator + '';\n  return new WebElementCondition('for element to be located ' + locatorStr, function (driver) {\n    return driver.findElements(locator).then(function (elements) {\n      return elements[0];\n    });\n  });\n};\n/**\n * Creates a condition that will loop until at least one element is\n * {@link ./webdriver.WebDriver#findElement found} with the given locator.\n *\n * @param {!(By|Function)} locator The locator to use.\n * @return {!Condition<!Array<!./webdriver.WebElement>>} The new\n *     condition.\n */\n\n\nexports.elementsLocated = function elementsLocated(locator) {\n  locator = by.checkedLocator(locator);\n  var locatorStr = typeof locator === 'function' ? 'by function()' : locator + '';\n  return new Condition('for at least one element to be located ' + locatorStr, function (driver) {\n    return driver.findElements(locator).then(function (elements) {\n      return elements.length > 0 ? elements : null;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element to become stale. An\n * element is considered stale once it is removed from the DOM, or a new page\n * has loaded.\n *\n * @param {!./webdriver.WebElement} element The element that should become stale.\n * @return {!Condition<boolean>} The new condition.\n */\n\n\nexports.stalenessOf = function stalenessOf(element) {\n  return new Condition('element to become stale', function () {\n    return element.getTagName().then(function () {\n      return false;\n    }, function (e) {\n      if (e instanceof error.StaleElementReferenceError) {\n        return true;\n      }\n\n      throw e;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element to become visible.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see ./webdriver.WebDriver#isDisplayed\n */\n\n\nexports.elementIsVisible = function elementIsVisible(element) {\n  return new WebElementCondition('until element is visible', function () {\n    return element.isDisplayed().then(function (v) {\n      return v ? element : null;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element to be in the DOM,\n * yet not visible to the user.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see ./webdriver.WebDriver#isDisplayed\n */\n\n\nexports.elementIsNotVisible = function elementIsNotVisible(element) {\n  return new WebElementCondition('until element is not visible', function () {\n    return element.isDisplayed().then(function (v) {\n      return v ? null : element;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element to be enabled.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#isEnabled\n */\n\n\nexports.elementIsEnabled = function elementIsEnabled(element) {\n  return new WebElementCondition('until element is enabled', function () {\n    return element.isEnabled().then(function (v) {\n      return v ? element : null;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element to be disabled.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#isEnabled\n */\n\n\nexports.elementIsDisabled = function elementIsDisabled(element) {\n  return new WebElementCondition('until element is disabled', function () {\n    return element.isEnabled().then(function (v) {\n      return v ? null : element;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element to be selected.\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#isSelected\n */\n\n\nexports.elementIsSelected = function elementIsSelected(element) {\n  return new WebElementCondition('until element is selected', function () {\n    return element.isSelected().then(function (v) {\n      return v ? element : null;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element to be deselected.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#isSelected\n */\n\n\nexports.elementIsNotSelected = function elementIsNotSelected(element) {\n  return new WebElementCondition('until element is not selected', function () {\n    return element.isSelected().then(function (v) {\n      return v ? null : element;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element's\n * {@link webdriver.WebDriver#getText visible text} to match the given\n * {@code text} exactly.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @param {string} text The expected text.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#getText\n */\n\n\nexports.elementTextIs = function elementTextIs(element, text) {\n  return new WebElementCondition('until element text is', function () {\n    return element.getText().then(function (t) {\n      return t === text ? element : null;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element's\n * {@link webdriver.WebDriver#getText visible text} to contain the given\n * substring.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @param {string} substr The substring to search for.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#getText\n */\n\n\nexports.elementTextContains = function elementTextContains(element, substr) {\n  return new WebElementCondition('until element text contains', function () {\n    return element.getText().then(function (t) {\n      return t.indexOf(substr) != -1 ? element : null;\n    });\n  });\n};\n/**\n * Creates a condition that will wait for the given element's\n * {@link webdriver.WebDriver#getText visible text} to match a regular\n * expression.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @param {!RegExp} regex The regular expression to test against.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#getText\n */\n\n\nexports.elementTextMatches = function elementTextMatches(element, regex) {\n  return new WebElementCondition('until element text matches', function () {\n    return element.getText().then(function (t) {\n      return regex.test(t) ? element : null;\n    });\n  });\n};","map":{"version":3,"sources":["C:/Users/NeverMind/IntelliJIDEAProjects/argon-dashboard-angular-master/node_modules/selenium-webdriver/lib/until.js"],"names":["by","require","By","error","webdriver","Condition","WebElementCondition","exports","ableToSwitchToFrame","frame","condition","WebElement","driver","attemptToSwitchFrames","locator","findElements","then","els","length","switchTo","e","NoSuchFrameError","alertIsPresent","alert","catch","NoSuchAlertError","WebDriverError","message","titleIs","title","JSON","stringify","getTitle","t","titleContains","substr","indexOf","titleMatches","regex","test","urlIs","url","getCurrentUrl","u","urlContains","substrUrl","urlMatches","elementLocated","checkedLocator","locatorStr","elements","elementsLocated","stalenessOf","element","getTagName","StaleElementReferenceError","elementIsVisible","isDisplayed","v","elementIsNotVisible","elementIsEnabled","isEnabled","elementIsDisabled","elementIsSelected","isSelected","elementIsNotSelected","elementTextIs","text","getText","elementTextContains","elementTextMatches"],"mappings":"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","sourcesContent":["// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n/**\n * @fileoverview Defines common conditions for use with\n * {@link webdriver.WebDriver#wait WebDriver wait}.\n *\n * Sample usage:\n *\n *     driver.get('http://www.google.com/ncr');\n *\n *     var query = driver.wait(until.elementLocated(By.name('q')));\n *     query.sendKeys('webdriver\\n');\n *\n *     driver.wait(until.titleIs('webdriver - Google Search'));\n *\n * To define a custom condition, simply call WebDriver.wait with a function\n * that will eventually return a truthy-value (neither null, undefined, false,\n * 0, or the empty string):\n *\n *     driver.wait(function() {\n *       return driver.getTitle().then(function(title) {\n *         return title === 'webdriver - Google Search';\n *       });\n *     }, 1000);\n */\n\n'use strict';\n\nconst by = require('./by');\nconst By = require('./by').By;\nconst error = require('./error');\nconst webdriver = require('./webdriver'),\n    Condition = webdriver.Condition,\n    WebElementCondition = webdriver.WebElementCondition;\n\n\n/**\n * Creates a condition that will wait until the input driver is able to switch\n * to the designated frame. The target frame may be specified as\n *\n * 1. a numeric index into\n *     [window.frames](https://developer.mozilla.org/en-US/docs/Web/API/Window.frames)\n *     for the currently selected frame.\n * 2. a {@link ./webdriver.WebElement}, which must reference a FRAME or IFRAME\n *     element on the current page.\n * 3. a locator which may be used to first locate a FRAME or IFRAME on the\n *     current page before attempting to switch to it.\n *\n * Upon successful resolution of this condition, the driver will be left\n * focused on the new frame.\n *\n * @param {!(number|./webdriver.WebElement|By|\n *           function(!./webdriver.WebDriver): !./webdriver.WebElement)} frame\n *     The frame identifier.\n * @return {!Condition<boolean>} A new condition.\n */\nexports.ableToSwitchToFrame = function ableToSwitchToFrame(frame) {\n  var condition;\n  if (typeof frame === 'number' || frame instanceof webdriver.WebElement) {\n    condition = driver => attemptToSwitchFrames(driver, frame);\n  } else {\n    condition = function(driver) {\n      let locator = /** @type {!(By|Function)} */(frame);\n      return driver.findElements(locator).then(function(els) {\n        if (els.length) {\n          return attemptToSwitchFrames(driver, els[0]);\n        }\n      });\n    };\n  }\n\n  return new Condition('to be able to switch to frame', condition);\n\n  function attemptToSwitchFrames(driver, frame) {\n    return driver.switchTo().frame(frame).then(\n        function() { return true; },\n        function(e) {\n          if (!(e instanceof error.NoSuchFrameError)) {\n            throw e;\n          }\n        });\n  }\n};\n\n\n/**\n * Creates a condition that waits for an alert to be opened. Upon success, the\n * returned promise will be fulfilled with the handle for the opened alert.\n *\n * @return {!Condition<!./webdriver.Alert>} The new condition.\n */\nexports.alertIsPresent = function alertIsPresent() {\n  return new Condition('for alert to be present', function(driver) {\n    return driver.switchTo().alert().catch(function(e) {\n      if (!(e instanceof error.NoSuchAlertError\n        // XXX: Workaround for GeckoDriver error `TypeError: can't convert null\n        // to object`. For more details, see\n        // https://github.com/SeleniumHQ/selenium/pull/2137\n        || (e instanceof error.WebDriverError\n          && e.message === `can't convert null to object`)\n        )) {\n        throw e;\n      }\n    });\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the current page's title to match the\n * given value.\n *\n * @param {string} title The expected page title.\n * @return {!Condition<boolean>} The new condition.\n */\nexports.titleIs = function titleIs(title) {\n  return new Condition(\n      'for title to be ' + JSON.stringify(title),\n      function(driver) {\n        return driver.getTitle().then(function(t) {\n          return t === title;\n        });\n      });\n};\n\n\n/**\n * Creates a condition that will wait for the current page's title to contain\n * the given substring.\n *\n * @param {string} substr The substring that should be present in the page\n *     title.\n * @return {!Condition<boolean>} The new condition.\n */\nexports.titleContains = function titleContains(substr) {\n  return new Condition(\n      'for title to contain ' + JSON.stringify(substr),\n      function(driver) {\n        return driver.getTitle().then(function(title) {\n          return title.indexOf(substr) !== -1;\n        });\n      });\n};\n\n\n/**\n * Creates a condition that will wait for the current page's title to match the\n * given regular expression.\n *\n * @param {!RegExp} regex The regular expression to test against.\n * @return {!Condition<boolean>} The new condition.\n */\nexports.titleMatches = function titleMatches(regex) {\n  return new Condition('for title to match ' + regex, function(driver) {\n    return driver.getTitle().then(function(title) {\n      return regex.test(title);\n    });\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the current page's url to match the\n * given value.\n *\n * @param {string} url The expected page url.\n * @return {!Condition<boolean>} The new condition.\n */\nexports.urlIs = function urlIs(url) {\n  return new Condition(\n      'for URL to be ' + JSON.stringify(url),\n      function(driver) {\n        return driver.getCurrentUrl().then(function(u) {\n          return u === url;\n        });\n      });\n};\n\n\n/**\n * Creates a condition that will wait for the current page's url to contain\n * the given substring.\n *\n * @param {string} substrUrl The substring that should be present in the current\n *     URL.\n * @return {!Condition<boolean>} The new condition.\n */\nexports.urlContains = function urlContains(substrUrl) {\n  return new Condition(\n      'for URL to contain ' + JSON.stringify(substrUrl),\n      function(driver) {\n        return driver.getCurrentUrl().then(function(url) {\n          return url.indexOf(substrUrl) !== -1;\n        });\n      });\n};\n\n\n/**\n * Creates a condition that will wait for the current page's url to match the\n * given regular expression.\n *\n * @param {!RegExp} regex The regular expression to test against.\n * @return {!Condition<boolean>} The new condition.\n */\nexports.urlMatches = function urlMatches(regex) {\n  return new Condition('for URL to match ' + regex, function(driver) {\n    return driver.getCurrentUrl().then(function(url) {\n      return regex.test(url);\n    });\n  });\n};\n\n\n/**\n * Creates a condition that will loop until an element is\n * {@link ./webdriver.WebDriver#findElement found} with the given locator.\n *\n * @param {!(By|Function)} locator The locator to use.\n * @return {!WebElementCondition} The new condition.\n */\nexports.elementLocated = function elementLocated(locator) {\n  locator = by.checkedLocator(locator);\n  let locatorStr =\n      typeof locator === 'function' ? 'by function()' : locator + '';\n  return new WebElementCondition('for element to be located ' + locatorStr,\n      function(driver) {\n        return driver.findElements(locator).then(function(elements) {\n          return elements[0];\n        });\n      });\n};\n\n\n/**\n * Creates a condition that will loop until at least one element is\n * {@link ./webdriver.WebDriver#findElement found} with the given locator.\n *\n * @param {!(By|Function)} locator The locator to use.\n * @return {!Condition<!Array<!./webdriver.WebElement>>} The new\n *     condition.\n */\nexports.elementsLocated = function elementsLocated(locator) {\n  locator = by.checkedLocator(locator);\n  let locatorStr =\n      typeof locator === 'function' ? 'by function()' : locator + '';\n  return new Condition(\n      'for at least one element to be located ' + locatorStr,\n      function(driver) {\n        return driver.findElements(locator).then(function(elements) {\n          return elements.length > 0 ? elements : null;\n        });\n      });\n};\n\n\n/**\n * Creates a condition that will wait for the given element to become stale. An\n * element is considered stale once it is removed from the DOM, or a new page\n * has loaded.\n *\n * @param {!./webdriver.WebElement} element The element that should become stale.\n * @return {!Condition<boolean>} The new condition.\n */\nexports.stalenessOf = function stalenessOf(element) {\n  return new Condition('element to become stale', function() {\n    return element.getTagName().then(\n        function() { return false; },\n        function(e) {\n          if (e instanceof error.StaleElementReferenceError) {\n            return true;\n          }\n          throw e;\n        });\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element to become visible.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see ./webdriver.WebDriver#isDisplayed\n */\nexports.elementIsVisible = function elementIsVisible(element) {\n  return new WebElementCondition('until element is visible', function() {\n    return element.isDisplayed().then(v => v ? element : null);\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element to be in the DOM,\n * yet not visible to the user.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see ./webdriver.WebDriver#isDisplayed\n */\nexports.elementIsNotVisible = function elementIsNotVisible(element) {\n  return new WebElementCondition('until element is not visible', function() {\n    return element.isDisplayed().then(v => v ? null : element);\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element to be enabled.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#isEnabled\n */\nexports.elementIsEnabled = function elementIsEnabled(element) {\n  return new WebElementCondition('until element is enabled', function() {\n    return element.isEnabled().then(v => v ? element : null);\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element to be disabled.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#isEnabled\n */\nexports.elementIsDisabled = function elementIsDisabled(element) {\n  return new WebElementCondition('until element is disabled', function() {\n    return element.isEnabled().then(v => v ? null : element);\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element to be selected.\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#isSelected\n */\nexports.elementIsSelected = function elementIsSelected(element) {\n  return new WebElementCondition('until element is selected', function() {\n    return element.isSelected().then(v => v ? element : null);\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element to be deselected.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#isSelected\n */\nexports.elementIsNotSelected = function elementIsNotSelected(element) {\n  return new WebElementCondition('until element is not selected', function() {\n    return element.isSelected().then(v => v ? null : element);\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element's\n * {@link webdriver.WebDriver#getText visible text} to match the given\n * {@code text} exactly.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @param {string} text The expected text.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#getText\n */\nexports.elementTextIs = function elementTextIs(element, text) {\n  return new WebElementCondition('until element text is', function() {\n    return element.getText().then(t => t === text ? element : null);\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element's\n * {@link webdriver.WebDriver#getText visible text} to contain the given\n * substring.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @param {string} substr The substring to search for.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#getText\n */\nexports.elementTextContains = function elementTextContains(element, substr) {\n  return new WebElementCondition('until element text contains', function() {\n    return element.getText()\n        .then(t => t.indexOf(substr) != -1 ? element : null);\n  });\n};\n\n\n/**\n * Creates a condition that will wait for the given element's\n * {@link webdriver.WebDriver#getText visible text} to match a regular\n * expression.\n *\n * @param {!./webdriver.WebElement} element The element to test.\n * @param {!RegExp} regex The regular expression to test against.\n * @return {!WebElementCondition} The new condition.\n * @see webdriver.WebDriver#getText\n */\nexports.elementTextMatches = function elementTextMatches(element, regex) {\n  return new WebElementCondition('until element text matches', function() {\n    return element.getText().then(t => regex.test(t) ? element : null);\n  });\n};\n"]},"metadata":{},"sourceType":"script"}