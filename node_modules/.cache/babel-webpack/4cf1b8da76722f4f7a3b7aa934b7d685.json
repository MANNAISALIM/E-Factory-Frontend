{"ast":null,"code":"var util = require(\"util\");\n\nvar querystring = require(\"querystring\");\n\nvar BaseClient = require(\"./client\");\n\nvar extend = require(\"./extend\");\n\nfunction AutomateClient(settings) {\n  this.server = {\n    host: \"api.browserstack.com\"\n  };\n  BaseClient.call(this, settings);\n}\n\nutil.inherits(AutomateClient, BaseClient); // public API\n\nextend(AutomateClient.prototype, {\n  getPlan: function getPlan(fn) {\n    this.request({\n      path: this.path(\"/plan.json\")\n    }, fn);\n  },\n  getBrowsers: function getBrowsers(fn) {\n    this.request({\n      path: this.path(\"/browsers.json\")\n    }, fn);\n  },\n  getProjects: function getProjects(fn) {\n    this.request({\n      path: this.path(\"/projects.json\")\n    }, this.handleResponse(fn, this.stripChildKeys(\"automation_project\")));\n  },\n  getProject: function getProject(id, fn) {\n    this.request({\n      path: this.path(\"/projects/\" + id + \".json\")\n    }, this.handleResponse(fn, function (project) {\n      project = project.project;\n      project.builds = this.stripChildKeys(\"automation_build\")(project.builds);\n      return project;\n    }.bind(this)));\n  },\n  getBuilds: function getBuilds(options, fn) {\n    if (typeof options === \"function\") {\n      fn = options;\n      options = {};\n    }\n\n    this.request({\n      path: this.path(\"/builds.json?\" + querystring.stringify(options))\n    }, this.handleResponse(fn, this.stripChildKeys(\"automation_build\")));\n  },\n  getSessions: function getSessions(buildId, options, fn) {\n    if (typeof fn === \"undefined\") {\n      fn = options;\n      options = {};\n    }\n\n    this.request({\n      path: this.path(\"/builds/\" + buildId + \"/sessions.json?\" + querystring.stringify(options))\n    }, this.handleResponse(fn, this.stripChildKeys(\"automation_session\")));\n  },\n  getSession: function getSession(id, fn) {\n    this.request({\n      path: this.path(\"/sessions/\" + id + \".json\")\n    }, this.handleResponse(fn, this.stripKey(\"automation_session\")));\n  },\n  updateSession: function updateSession(id, options, fn) {\n    var data = JSON.stringify(options);\n    this.request({\n      method: \"PUT\",\n      path: this.path(\"/sessions/\" + id + \".json\")\n    }, data, this.handleResponse(fn, this.stripKey(\"automation_session\")));\n  },\n  deleteSession: function deleteSession(id, fn) {\n    this.request({\n      method: \"DELETE\",\n      path: this.path(\"/sessions/\" + id + \".json\")\n    }, fn);\n  }\n}); // internal API\n\nextend(AutomateClient.prototype, {\n  path: function path(_path) {\n    return \"/automate\" + _path;\n  },\n  handleResponse: function handleResponse(fn, modifier) {\n    return function (error, data) {\n      if (error) {\n        return fn(error);\n      }\n\n      fn(null, modifier(data));\n    };\n  },\n  stripKey: function stripKey(key) {\n    return function (item) {\n      return item[key];\n    };\n  },\n  stripChildKeys: function stripChildKeys(key) {\n    return function (items) {\n      return items.map(function (item) {\n        return item[key];\n      });\n    };\n  }\n});\nmodule.exports = {\n  createClient: function createClient(settings) {\n    return new AutomateClient(settings);\n  }\n};","map":{"version":3,"sources":["C:/Users/NeverMind/IntelliJIDEAProjects/argon-dashboard-angular-master/node_modules/browserstack/lib/automate.js"],"names":["util","require","querystring","BaseClient","extend","AutomateClient","settings","server","host","call","inherits","prototype","getPlan","fn","request","path","getBrowsers","getProjects","handleResponse","stripChildKeys","getProject","id","project","builds","bind","getBuilds","options","stringify","getSessions","buildId","getSession","stripKey","updateSession","data","JSON","method","deleteSession","modifier","error","key","item","items","map","module","exports","createClient"],"mappings":"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","sourcesContent":["var util = require(\"util\");\nvar querystring = require(\"querystring\");\nvar BaseClient = require(\"./client\");\nvar extend = require(\"./extend\");\n\nfunction AutomateClient(settings) {\n\tthis.server = {\n\t\thost: \"api.browserstack.com\"\n\t};\n\tBaseClient.call(this, settings);\n}\n\nutil.inherits(AutomateClient, BaseClient);\n\n// public API\nextend(AutomateClient.prototype, {\n\tgetPlan: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/plan.json\")\n\t\t}, fn);\n\t},\n\n\tgetBrowsers: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/browsers.json\")\n\t\t}, fn);\n\t},\n\n\tgetProjects: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/projects.json\")\n\t\t}, this.handleResponse(fn, this.stripChildKeys(\"automation_project\")));\n\t},\n\n\tgetProject: function(id, fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/projects/\" + id + \".json\")\n\t\t}, this.handleResponse(fn, function(project) {\n\t\t\tproject = project.project;\n\t\t\tproject.builds = this.stripChildKeys(\"automation_build\")(project.builds);\n\t\t\treturn project;\n\t\t}.bind(this)));\n\t},\n\n\tgetBuilds: function(options, fn) {\n\t\tif (typeof options === \"function\") {\n\t\t\tfn = options;\n\t\t\toptions = {};\n\t\t}\n\n\t\tthis.request({\n\t\t\tpath: this.path(\"/builds.json?\" + querystring.stringify(options))\n\t\t}, this.handleResponse(fn, this.stripChildKeys(\"automation_build\")));\n\t},\n\n\tgetSessions: function(buildId, options, fn) {\n\t\tif (typeof fn === \"undefined\") {\n\t\t\tfn = options;\n\t\t\toptions = {};\n\t\t}\n\n\t\tthis.request({\n\t\t\tpath: this.path(\"/builds/\" + buildId + \"/sessions.json?\" +\n\t\t\t\tquerystring.stringify(options))\n\t\t}, this.handleResponse(fn, this.stripChildKeys(\"automation_session\")));\n\t},\n\n\tgetSession: function(id, fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/sessions/\" + id + \".json\")\n\t\t}, this.handleResponse(fn, this.stripKey(\"automation_session\")));\n\t},\n\n\tupdateSession: function(id, options, fn) {\n\t\tvar data = JSON.stringify(options);\n\t\tthis.request({\n\t\t\tmethod: \"PUT\",\n\t\t\tpath: this.path(\"/sessions/\" + id + \".json\")\n\t\t}, data, this.handleResponse(fn, this.stripKey(\"automation_session\")));\n\t},\n\n\tdeleteSession: function(id, fn) {\n\t\tthis.request({\n\t\t\tmethod: \"DELETE\",\n\t\t\tpath: this.path(\"/sessions/\" + id + \".json\")\n\t\t}, fn);\n\t}\n});\n\n// internal API\nextend(AutomateClient.prototype, {\n\tpath: function(path) {\n\t\treturn \"/automate\" + path;\n\t},\n\n\thandleResponse: function(fn, modifier) {\n\t\treturn function(error, data) {\n\t\t\tif (error) {\n\t\t\t\treturn fn(error);\n\t\t\t}\n\n\t\t\tfn(null, modifier(data));\n\t\t};\n\t},\n\n\tstripKey: function(key) {\n\t\treturn function(item) {\n\t\t\treturn item[key];\n\t\t};\n\t},\n\n\tstripChildKeys: function(key) {\n\t\treturn function(items) {\n\t\t\treturn items.map(function(item) {\n\t\t\t\treturn item[key];\n\t\t\t});\n\t\t};\n\t}\n});\n\nmodule.exports = {\n\tcreateClient: function(settings) {\n\t\treturn new AutomateClient(settings);\n\t}\n};\n"]},"metadata":{},"sourceType":"script"}