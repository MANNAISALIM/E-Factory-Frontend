{"ast":null,"code":"var util = require(\"util\");\n\nvar querystring = require(\"querystring\");\n\nvar BaseClient = require(\"./client\");\n\nvar extend = require(\"./extend\");\n\nfunction AppAutomateClient(settings) {\n  this.server = {\n    host: \"api.browserstack.com\"\n  };\n  BaseClient.call(this, settings);\n}\n\nutil.inherits(AppAutomateClient, BaseClient); // public API\n\nextend(AppAutomateClient.prototype, {\n  getPlan: function getPlan(fn) {\n    this.request({\n      path: this.path(\"/plan.json\")\n    }, fn);\n  },\n  getProjects: function getProjects(fn) {\n    this.request({\n      path: this.path(\"/projects.json\")\n    }, this.handleResponse(fn, this.stripChildKeys(\"automation_project\")));\n  },\n  getProject: function getProject(id, fn) {\n    this.request({\n      path: this.path(\"/projects/\" + id + \".json\")\n    }, this.handleResponse(fn, function (project) {\n      project = project.project;\n      project.builds = this.stripChildKeys(\"automation_build\")(project.builds);\n      return project;\n    }.bind(this)));\n  },\n  getBuilds: function getBuilds(options, fn) {\n    if (typeof options === \"function\") {\n      fn = options;\n      options = {};\n    }\n\n    this.request({\n      path: this.path(\"/builds.json?\" + querystring.stringify(options))\n    }, this.handleResponse(fn, this.stripChildKeys(\"automation_build\")));\n  },\n  getSessions: function getSessions(buildId, options, fn) {\n    if (typeof fn === \"undefined\") {\n      fn = options;\n      options = {};\n    }\n\n    this.request({\n      path: this.path(\"/builds/\" + buildId + \"/sessions.json?\" + querystring.stringify(options))\n    }, this.handleResponse(fn, this.stripChildKeys(\"automation_session\")));\n  },\n  getSession: function getSession(id, fn) {\n    this.request({\n      path: this.path(\"/sessions/\" + id + \".json\")\n    }, this.handleResponse(fn, this.stripKey(\"automation_session\")));\n  },\n  updateSession: function updateSession(id, options, fn) {\n    var data = JSON.stringify(options);\n    this.request({\n      method: \"PUT\",\n      path: this.path(\"/sessions/\" + id + \".json\")\n    }, data, this.handleResponse(fn, this.stripKey(\"automation_session\")));\n  },\n  deleteSession: function deleteSession(id, fn) {\n    this.request({\n      method: \"DELETE\",\n      path: this.path(\"/sessions/\" + id + \".json\")\n    }, fn);\n  }\n}); // internal API\n\nextend(AppAutomateClient.prototype, {\n  path: function path(_path) {\n    return \"/app-automate\" + _path;\n  },\n  handleResponse: function handleResponse(fn, modifier) {\n    return function (error, data) {\n      if (error) {\n        return fn(error);\n      }\n\n      fn(null, modifier(data));\n    };\n  },\n  stripKey: function stripKey(key) {\n    return function (item) {\n      return item[key];\n    };\n  },\n  stripChildKeys: function stripChildKeys(key) {\n    return function (items) {\n      return items.map(function (item) {\n        return item[key];\n      });\n    };\n  }\n});\nmodule.exports = {\n  createClient: function createClient(settings) {\n    return new AppAutomateClient(settings);\n  }\n};","map":{"version":3,"sources":["C:/Users/NeverMind/IntelliJIDEAProjects/argon-dashboard-angular-master/node_modules/browserstack/lib/app-automate.js"],"names":["util","require","querystring","BaseClient","extend","AppAutomateClient","settings","server","host","call","inherits","prototype","getPlan","fn","request","path","getProjects","handleResponse","stripChildKeys","getProject","id","project","builds","bind","getBuilds","options","stringify","getSessions","buildId","getSession","stripKey","updateSession","data","JSON","method","deleteSession","modifier","error","key","item","items","map","module","exports","createClient"],"mappings":"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","sourcesContent":["var util = require(\"util\");\nvar querystring = require(\"querystring\");\nvar BaseClient = require(\"./client\");\nvar extend = require(\"./extend\");\n\nfunction AppAutomateClient(settings) {\n\tthis.server = {\n\t\thost: \"api.browserstack.com\"\n\t};\n\tBaseClient.call(this, settings);\n}\n\nutil.inherits(AppAutomateClient, BaseClient);\n\n// public API\nextend(AppAutomateClient.prototype, {\n\tgetPlan: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/plan.json\")\n\t\t}, fn);\n\t},\n\n\tgetProjects: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/projects.json\")\n\t\t}, this.handleResponse(fn, this.stripChildKeys(\"automation_project\")));\n\t},\n\n\tgetProject: function(id, fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/projects/\" + id + \".json\")\n\t\t}, this.handleResponse(fn, function(project) {\n\t\t\tproject = project.project;\n\t\t\tproject.builds = this.stripChildKeys(\"automation_build\")(project.builds);\n\t\t\treturn project;\n\t\t}.bind(this)));\n\t},\n\n\tgetBuilds: function(options, fn) {\n\t\tif (typeof options === \"function\") {\n\t\t\tfn = options;\n\t\t\toptions = {};\n\t\t}\n\n\t\tthis.request({\n\t\t\tpath: this.path(\"/builds.json?\" + querystring.stringify(options))\n\t\t}, this.handleResponse(fn, this.stripChildKeys(\"automation_build\")));\n\t},\n\n\tgetSessions: function(buildId, options, fn) {\n\t\tif (typeof fn === \"undefined\") {\n\t\t\tfn = options;\n\t\t\toptions = {};\n\t\t}\n\n\t\tthis.request({\n\t\t\tpath: this.path(\"/builds/\" + buildId + \"/sessions.json?\" +\n\t\t\t\tquerystring.stringify(options))\n\t\t}, this.handleResponse(fn, this.stripChildKeys(\"automation_session\")));\n\t},\n\n\tgetSession: function(id, fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/sessions/\" + id + \".json\")\n\t\t}, this.handleResponse(fn, this.stripKey(\"automation_session\")));\n\t},\n\n\tupdateSession: function(id, options, fn) {\n\t\tvar data = JSON.stringify(options);\n\t\tthis.request({\n\t\t\tmethod: \"PUT\",\n\t\t\tpath: this.path(\"/sessions/\" + id + \".json\")\n\t\t}, data, this.handleResponse(fn, this.stripKey(\"automation_session\")));\n\t},\n\n\tdeleteSession: function(id, fn) {\n\t\tthis.request({\n\t\t\tmethod: \"DELETE\",\n\t\t\tpath: this.path(\"/sessions/\" + id + \".json\")\n\t\t}, fn);\n\t}\n});\n\n// internal API\nextend(AppAutomateClient.prototype, {\n\tpath: function(path) {\n\t\treturn \"/app-automate\" + path;\n\t},\n\n\thandleResponse: function(fn, modifier) {\n\t\treturn function(error, data) {\n\t\t\tif (error) {\n\t\t\t\treturn fn(error);\n\t\t\t}\n\n\t\t\tfn(null, modifier(data));\n\t\t};\n\t},\n\n\tstripKey: function(key) {\n\t\treturn function(item) {\n\t\t\treturn item[key];\n\t\t};\n\t},\n\n\tstripChildKeys: function(key) {\n\t\treturn function(items) {\n\t\t\treturn items.map(function(item) {\n\t\t\t\treturn item[key];\n\t\t\t});\n\t\t};\n\t}\n});\n\nmodule.exports = {\n\tcreateClient: function(settings) {\n\t\treturn new AppAutomateClient(settings);\n\t}\n};\n"]},"metadata":{},"sourceType":"script"}